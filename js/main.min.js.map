{"version":3,"file":"main.min.js","names":["date","Date","year","getFullYear","month","getMonth","calendar","document","querySelector","dateCells","querySelectorAll","currMonthAndYear","buttonPrev","buttonNext","addEvent","addEventForm","getLastDayOfMonth","getDate","getFirstWeekDayOfMonth","getDay","getLastWeekDayOfMonth","getShiftElemNum","firstDay","getPushElemNum","lastDay","getDaysOfPrevMonth","day","result","length","push","reverse","getDaysOfNextMonth","getDates","currMonthDays","prevMonthDays","nextMonthDays","i","concat","getMonthName","monthDeclension","monthName","substring","showCurrMonthAndYear","element","textContent","getPrevYear","getPrevMonth","getNextYear","getNextMonth","showPrevMonthAndYear","classList","contains","remove","renderCalendar","showNextMonthAndYear","createElement","className","parent","text","newElement","add","appendChild","showPopup","arr","forEach","addEventListener","style","left","getBoundingClientRect","right","top","clearForm","fillDate","evt","preventDefault","eventDate","eventTittle","eventPartisipants","value","renderDates","innerHTML","weekday","dates","table","tableBody","Math","floor","weeks","j","days"],"sources":["main.js"],"mappings":"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","sourcesContent":["const date=new Date;let year=date.getFullYear(),month=date.getMonth();const calendar=document.querySelector(\".calendar__body\"),dateCells=document.querySelectorAll(\".calendar__date\"),currMonthAndYear=document.querySelector(\".month-control__month-name\"),buttonPrev=document.querySelector(\".month-control__button--prev\"),buttonNext=document.querySelector(\".month-control__button--next\"),addEvent=document.querySelector(\".event-modal--new\"),addEventForm=addEvent.querySelector(\".form\"),getLastDayOfMonth=(e,t)=>new Date(e,t+1,0).getDate(),getFirstWeekDayOfMonth=(e,t)=>new Date(e,t).getDay(),getLastWeekDayOfMonth=(e,t)=>new Date(e,t+1,0).getDay(),getShiftElemNum=(e,t)=>{let n=getFirstWeekDayOfMonth(e,t);return 0===n?6:n-1},getPushElemNum=(e,t)=>{let n=getLastWeekDayOfMonth(e,t);return 0===n?0:7-n},getDaysOfPrevMonth=(e,t)=>{let n=new Date(e,t,0).getDate(),a=[];for(;a.length!==getShiftElemNum(e,t);)a.push(n),n-=1;return a.reverse(),a},getDaysOfNextMonth=(e,t)=>{let n=new Date(e,t,1).getDate(),a=[];for(;a.length!==getPushElemNum(e,t);)a.push(n),n+=1;return a},getDates=(e,t)=>{let n=[],a=[],r=getDaysOfPrevMonth(e,t),o=getDaysOfNextMonth(e,t);for(let n=1;n<=getLastDayOfMonth(e,t);n++)a.push(n);return n=r.concat(a,o),n},getMonthName=e=>[\"Январь\",\"Февраль\",\"Март\",\"Апрель\",\"Май\",\"Июнь\",\"Июль\",\"Август\",\"Сентябрь\",\"Октябрь\",\"Ноябрь\",\"Декабрь\"][e],monthDeclension=e=>{let t;return t=2===e||7==e?getMonthName(e).concat(\"а\"):getMonthName(e).substring(0,getMonthName(e).length-1).concat(\"я\"),t},showCurrMonthAndYear=(e,t,n)=>{n.textContent=`${getMonthName(t)} ${e}`},getPrevYear=(e,t)=>0===t?e-1:e,getPrevMonth=e=>0===e?11:e-1,getNextYear=(e,t)=>11===t?e+1:e,getNextMonth=e=>11===e?0:e+1,showPrevMonthAndYear=()=>{year=getPrevYear(year,month),month=getPrevMonth(month),element=calendar,addEvent.classList.contains(\"event-modal--show\")&&addEvent.classList.remove(\"event-modal--show\"),renderCalendar(year,month,element)},showNextMonthAndYear=()=>{element=calendar,year=getNextYear(year,month),month=getNextMonth(month),renderCalendar(year,month,element),addEvent.classList.contains(\"event-modal--show\")&&addEvent.classList.remove(\"event-modal--show\")},createElement=(e,t,n,a)=>{let r=document.createElement(e);t&&r.classList.add(t),a&&(r.textContent+=a),n.appendChild(r)},showPopup=(e,t)=>{e.forEach((n=>{n.addEventListener(\"click\",(()=>{for(let n=0;n<e.length;n++)e[n].classList.contains(t)&&e[n].classList.remove(t);n.classList.add(t),addEvent.classList.add(\"event-modal--show\"),addEvent.style.left=n.getBoundingClientRect().right+\"px\",addEvent.style.top=n.getBoundingClientRect().top+\"px\",addEvent.querySelector(\".event-modal__close-button\").addEventListener(\"click\",(()=>{clearForm(),n.classList.remove(t),addEvent.classList.remove(\"event-modal--show\"),addEvent.style.left=\"\",addEvent.style.top=\"\"})),fillDate(n),addEventForm.addEventListener(\"submit\",(e=>{e.preventDefault()}))}))}))},clearForm=()=>{let e=addEvent.querySelector(\".form__input--date\"),t=addEvent.querySelector(\".form__input--event\"),n=addEvent.querySelector(\".form__input--participants\");t.value=\"\",n.value=\"\",e.value=\"\"},fillDate=e=>{let t=addEvent.querySelector(\".form__input--date\"),n=e.querySelector(\".calendar__date\");t.value=`${n.textContent} ${monthDeclension(month)} ${year}`},renderDates=(e,t,n)=>{n.innerHTML=\"\";let a=[\"Понедельник, \",\"Вторник, \",\"Среда, \",\"Четверг, \",\"Пятница, \",\"Суббота, \",\"Воскресенье, \"],r=getDates(e,t);createElement(\"table\",\"calendar__month\",calendar);let o=document.querySelector(\".calendar__month\");createElement(\"tbody\",!1,o);let l=document.querySelector(\"tbody\");for(let e=0;e<Math.floor(r.length/7);e++)createElement(\"tr\",\"calendar__week\",l);let d=document.querySelectorAll(\".calendar__week\");for(let e=0;e<d.length;e++)for(let t=0;t<7;t++)createElement(\"td\",\"calendar__day\",d[e]);let s=document.querySelectorAll(\".calendar__day\");for(let e=0;e<a.length;e++)createElement(\"span\",\"calendar__weekday\",s[e],a[e]);for(let e=0;e<r.length;e++)createElement(\"span\",\"calendar__date\",s[e],r[e]);var c,m;m=\"calendar__day--active\",(c=s).forEach((e=>{e.addEventListener(\"click\",(()=>{for(let e=0;e<c.length;e++)c[e].classList.contains(m)&&c[e].classList.remove(m);e.classList.add(m),addEvent.classList.add(\"event-modal--show\"),addEvent.style.left=e.getBoundingClientRect().right+\"px\",addEvent.style.top=e.getBoundingClientRect().top+\"px\",addEvent.querySelector(\".event-modal__close-button\").addEventListener(\"click\",(()=>{clearForm(),e.classList.remove(m),addEvent.classList.remove(\"event-modal--show\"),addEvent.style.left=\"\",addEvent.style.top=\"\"})),fillDate(e),addEventForm.addEventListener(\"submit\",(e=>{e.preventDefault()}))}))}))},renderCalendar=(e,t,n)=>{renderDates(e,t,n),showCurrMonthAndYear(e,t,currMonthAndYear),buttonPrev.addEventListener(\"click\",showPrevMonthAndYear),buttonNext.addEventListener(\"click\",showNextMonthAndYear)};renderCalendar(year,month,calendar);"]}